{% extends 'store/base.html' %}
{% load static %}
{% block css %}
	<link rel="stylesheet" type="text/css" href="{% static 'css/product.css' %}">
	<style>
		#navbar-container {
			border-bottom: 1px solid #b5b2c8;
		}
		
		#navbar-right li p,
		#navbar-bottom li a,
		#navbar-login li a,
		#navbar li a {
			color: #000;
		} 
	</style>
{% endblock css %}
{% block content %}
	<section class="section-p1">
		<div id="container">
			<div class="sticky_container">
				<div class="sticky">
					<div class="small-img-group">
						{% for image in images %}
							<div class="small-img-row">
								<img src="{{ image.imageURL }}">
							</div>
						{% endfor %}
					</div>
					<div class="image_container">
						<div id="product_image" class="main-image">
						  <img src="{{ product.imageURL }}">
					  </div>
					</div>
				</div>
			</div>
  			

			<script>
				document.addEventListener('DOMContentLoaded', function() {
			  // Знаходимо всі малі зображення
			  const smallImages = document.querySelectorAll('.small-img-group img');
			  // Знаходимо основне зображення
			  const mainImage = document.querySelector('#product_image img');
			
			  // Перебираємо всі малі зображення
			  smallImages.forEach(function(smallImg) {
				// Додаємо обробник події для кожного зображення
				smallImg.addEventListener('click', function() {
				  // Отримуємо посилання на нове зображення з атрибута src клікнутого зображення
				  const newImageSrc = this.getAttribute('src');
				  // Змінюємо src основного зображення на нове зображення
				  mainImage.setAttribute('src', newImageSrc);
				});
			  });
			});
			</script>

  			<div class="product-details">
    			<h2>{{ product.name }}</h2>
    			<div class="rating">
					<div class="star">
						<i class="fas fa-star"></i>
						<i class="fas fa-star"></i>
						<i class="fas fa-star"></i>
						<i class="fas fa-star"></i>
						<i class="fas fa-star"></i>
					</div>
					<p class="review-number">126</p>  
					<span> reviews</span>
				</div>
				<span>Sold Out</span>
				<div class="price-box">
					<span class="crossed-price">${{ product.crossed_out_price }}</span>
					<span class="price">${{ product.price }}</span>
					<span class="save">Save {{ product.calc_save }}%</span>
				</div>


				<!-- https://www.youtube.com/watch?v=9T2Et0SswTs&ab_channel=%D0%9A%D0%A3%D0%A0%D0%93%D0%AB%D0%A1%D0%A2%D0%90%D0%9D%D0%A1%D0%90%D0%9B%D0%98%D0%9C%D0%9E%D0%92 -->
				<div class="prospect">
					<p>Free Worldwide Shipping</p>
					<p>Easy Returns & Exchanges</p>
					<p>Fast, Friendly Support</p>
					<p>In stock, ready to ship</p>
					{% for variant in variants %}
						{% if variant.color %}
							{% if forloop.counter == 1 %}
								<h4>COLOR</h4>
							{% endif %}
							<button>{{ variant.color }}</button>
						{% endif %}
					{% endfor %}

					{% for variant in variants %}
						{% if variant.size %}
							{% if forloop.counter == 1 %}
								<h4>SIZE</h4>
							{% endif %}
							<button>{{ variant.size }}</button>
						{% endif %}
					{% endfor %}

					{% for variant in variants %}
						{% if variant.material %}
							{% if forloop.counter == 1 %}
								<h4>MATERIAL</h4>
							{% endif %}
							<button>{{ variant.material }}</button>
						{% endif %}
					{% endfor %}

					{% for variant in variants %}
						{% if variant.power %}
							{% if forloop.counter == 1 %}
								<h4>POWER</h4>
							{% endif %}
							<button>{{ variant.power }}</button>
						{% endif %}
					{% endfor %}

					{% for variant in variants %}
						{% if variant.number_in_group %}
							{% if forloop.counter == 1 %}
								<h4>NUMBER</h4>
							{% endif %}
							<button>{{ variant.number_in_group }}</button>
						{% endif %}
					{% endfor %}
					<!-- https://www.youtube.com/watch?v=9T2Et0SswTs&ab_channel=%D0%9A%D0%A3%D0%A0%D0%93%D0%AB%D0%A1%D0%A2%D0%90%D0%9D%D0%A1%D0%90%D0%9B%D0%98%D0%9C%D0%9E%D0%92 -->

					<h4>QUANTITY</h4>
					<input type="number" value="1">

					<div class="add-to-cart">
						<button><a href="#">ADD TO CART</a></button>
					</div>
				</div>
				<div class="description">
					<p>{{ product.description|safe }}</p>
				</div>
			</div>
		</div>

	</section>

{% endblock content %}


