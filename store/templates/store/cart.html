{% extends 'store/base.html' %}
{% load static %}
{% block title %}
Your Shopping Cart
{% endblock title %}
{% block css %}
	<link rel="stylesheet" type="text/css" href="{% static 'css/product.css' %}">
	<style>
		#navbar-container {
			border-bottom: 1px solid #b5b2c8;
		}
		
		#navbar-right li p,
		#navbar-bottom li a,
		#navbar-login li a,
		#navbar li a {
			color: #000;
		} 
	</style>
	<style>
		.summary-table {
			max-width: 300px;
			padding: 20px;
			border: 1px solid #ccc;
			border-radius: 8px;
			margin-left: auto;
		}
		
		.summary-table h2 {
			font-size: 20px;
			margin-bottom: 10px;
		}
		
		.summary-table p {
			margin: 0;
			font-size: 16px;
			color: #333;
		}
		
		.summary-table h3 {
			font-size: 18px;
			margin-bottom: 10px;
		}
		
		.summary-table p:nth-of-type(2) {
			margin: 0;
			font-size: 16px;
			color: #4caf50; 
		}
		
		.summary-table button {
			background-color: transparent;
			color: black;
			border: none;
			padding: 10px 20px;
			border-radius: 4px;
			font-size: 16px;
			cursor: pointer;
			display: block;
			width: 100%;
			margin-top: 20px;
			border: 2px solid black;
			border-radius: 12px;
		}
		
		.summary-table button a {
			text-decoration: none;
			color: black;
		}
		
		.summary-table button:hover {
			background-color: rgba(0, 0, 0, .1);;
		}
	</style>
	<style>
		.grid-container {
		display: grid;
		grid-template-columns: repeat(4, 1fr);
		grid-gap: 10px;
		max-width: 800px;
		margin: 0 auto;
		}

		.grid-header {
		margin-top: 32px;
		grid-column: 1 / -1;
		display: grid;
		grid-template-columns: 0.5fr 1.5fr 1fr 1fr;
		gap: 10px;
		font-weight: bold;
		}

		.cart-row {
		display: grid;
		grid-template-columns: 0.5fr 1.5fr 1fr 1fr;
		gap: 10px;
		align-items: center;
		}

		.cart-row img {
		max-width: 100px;
		max-height: 100px;
		}

		.cart-row h5 {
		margin: 0;
		}
	</style>
		
{% endblock css %}
{% block content %}
	<section class="section-cart">
		{% if order != None %}
			<div class="cart-container">
				<h1>Shopping Cart</h1>
				<button><a href="{% url 'checkout' %}">CHECK OUT</a></button>
				<div class="grid-header">
					<!-- div for grid align -->
					<div></div> 
					<div></div>
					<!-- div for grid align -->
					<h2>QUANTITY</h2>
					<h2>TOTAL</h2>
				</div>
				{% for item in order.orderitem_set.all %}
					<div class="cart-row">
						<img src="{{ item.product.imageURL }}">
						<h5>{{ item.product.name }}</h5>
						<h5>{{ item.quantity }}</h5>
						<h5>{{ item.get_total }}</h5>
					</div>
				{% endfor %}
				<br>
			</div>
			<div class="summary-table">
				<h2>Subtotal</h2>
				{% if request.session.coupon_id %}
					<p>{{ cart_total }}</p>
				{% else %}
					<p>{{ order.get_cart_total }}</p>
				{% endif %}
				<h3>Shipping</h3>
				<p>Free!</p>
				<button><a href="{% url 'checkout' %}">CHECK OUT</a></button>
				<form class="coupon" method="POST" action="{% url 'coupon' %}">
					{% csrf_token %}
					{{ form }}
					<button type="submit">Apply Coupon</button>
				</form>
			</div>
		{% else %}
			<h1 style="text-align:center;padding: 100px">No Items in cart</h1>
		{% endif %}
	</section>
{% endblock content %}

















